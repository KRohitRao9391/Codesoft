<!doctype html>
<html>
<head><meta charset="utf-8"><title>Create Project</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="style.css"></head>
<body>
  <header class="top"><div class="wrap"><h1>Project Manager</h1><nav><a href="index.html">Dashboard</a><a href="projects.html">Projects</a></nav></div></header>
  <main class="container">
    <h2>Create Project</h2>
    <form id="form">
      <label>Title<input name="title" required></label>
      <label>Description<textarea name="description"></textarea></label>
      <label>Due Date<input type="date" name="dueDate"></label>
      <button>Create Project</button>
    </form>
  </main>
<script>
document.getElementById('form').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  const payload = { title: fd.get('title'), description: fd.get('description'), dueDate: fd.get('dueDate') };
  const res = await fetch('/api/projects', { method:'POST', headers:{ 'Content-Type':'application/json' }, body: JSON.stringify(payload) });
  if(res.ok){ alert('Project created'); window.location='projects.html'; } else { const err=await res.json(); alert('Error: '+(err.error||'failed')); }
});
</script>
</body>
</html>
